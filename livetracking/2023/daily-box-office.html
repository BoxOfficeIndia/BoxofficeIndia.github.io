<!DOCTYPE html>
	<html lang="en">
	
	<head>
		<script async="async" data-cfasync="false" src="//pl18303822.highcpmrevenuenetwork.com/eb11d11fa1fb3730ecf9912917e6e437/invoke.js"></script>

		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-BYC2HYBLXT"></script>
		<script>
				window.dataLayer = window.dataLayer || [];
				function gtag(){dataLayer.push(arguments);}
				gtag('js', new Date());
				gtag('config', 'G-BYC2HYBLXT');
		</script>

		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1827849686137071"
		crossorigin="anonymous"></script>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Daily Indian Box office 2023 - Box office Pan India</title>
		<link rel="stylesheet" href="/style.css">
		<script async src="https://platform.twitter.com/widgets.js" charset="utf-8">
		</script>
		<!-- <script src = "script.js"></script> -->

		<!-- Open Graph / Facebook --> <!-- this is what Facebook and other social websites will draw on -->
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://boxofficeindia.github.io/livesales/2023/Adipurush/adipurush-day1-live-advance.html">
		<meta property="og:title" content=" Daily Indian Box office 2023 - Box office Pan India">
		<meta property="og:description" content=" Daily Indian Box office 2023 - Box office Pan India">
		<meta property="og:image" content="">

		<!-- Twitter --> <!-- You can have different summary for Twitter! -->
		<meta property="twitter:card" content="summary_large_image">
		<meta property="twitter:site" content="@Box_OfficeTrack">
		<meta property="twitter:title" content=" Daily Indian Box office 2023 - Box office Pan India">
		<meta property="twitter:description" content=" Daily Indian Box office 2023 - Box office Pan India">
		<meta property="twitter:image" content=""></meta>

		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	</head>
	
	<style>
		html, body{
			background-color: white;
		}
		.dropdown
		{
			background-color: #f5f5f5;
			border: #dbd7d2;
			padding: 1%;
		}
		#daily_table
		{
			border-collapse: collapse;
			margin: 25px 0;
			font-size: 15px;
			font-family: sans-serif;
			min-width: 400px;
			box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
			width: 100%;
		}
		#daily_table  th {
    	background-color: #009879;
    	color: #ffffff;
    	text-align: left;
			white-space: nowrap;
			font-size: 14px;
			padding: 12px 15px;
			/*position: sticky;
  		top: 0;*/
		}
		#daily_table  th:hover {cursor: pointer;}
		#daily_table td {
			padding: 12px 15px;
			text-align: center;
		}
		#daily_table tbody tr {
				border-bottom: 1px solid #dddddd;
		}
		#daily_table tbody tr:nth-of-type(even) {
				background-color: #f3f3f3;
		}
		#daily_table tbody tr:last-of-type {
				border-bottom: 2px solid #009879;
		}
		#daily_table tbody tr.active-row {
				font-weight: bold;
				color: #009879;
		}
		#daily_table .th-sort-asc::after {
			content: "\25b4";
		}
		#daily_table .th-sort-desc::after {
			content: "\25be";
		}
		#daily_table .th-sort-asc::after,
		#daily_table .th-sort-desc::after {
			margin-left: 5px;
		}
		#daily_table .th-sort-asc,
		#daily_table .th-sort-desc {
			background: rgba(0, 0, 0, 0.1);
		}
		.heading_class{
			text-align: center;
			/*margin: 20px;*/
			font-family: Verdana, Geneva, Tahoma, sans-serif;
			font-size: x-large;
			font-weight: bold;
			margin-bottom: 30px;
		}
		.dt_btns {
			border: none;
			background-color: inherit;
			padding: 3px;
			font-size: 13px;
			cursor: pointer;
			display: inline-block;
		}
		#top_row{
			margin: 0;
			margin-top: 10px;
			margin-bottom: 10px;
		}
		/*.dt_btns:hover {background: #eee;}*/
		#dropdown_row
		{
			margin: 10px;
			margin-top: 30px;
			margin-bottom: 10px;
			font-size: 15px;
		}
		#dropdown_row td {
			text-align: center;
		}
		.droprow_btns{
			border-radius: 0;
			background-color: #dbd7d2;
		}
		#refresh_btn{
			font-family: Lucida Sans Unicode;
			font-size: 45px;
			cursor: pointer;
			border: none;
			padding: none;
			background: none;
		}
		#region_dropdown
		{
			width: 50%;
			font-size: 20px;
		}
		#date_select
		{
			width: 50%;
			font-size: 20px;
		}
		.ad_div{
			border: 2px solid red;
			padding: 5px;
			margin-top: none;
		}
		#dropdown_row_col1{width: 50%;}
		#dropdown_row_col2{width: 50%;}

		#daily_table .sticky-col {position: -webkit-sticky;position: sticky;background-color: #FCF5E5;}
		#daily_table .first-col {width: 50px;min-width: 50px;max-width: 50px;left: 0px;}
		#daily_table .second-col {width: 125px;min-width: 125px;max-width: 125px;left: 50px;}

		@media only screen and (max-width: 480px) {
			/* horizontal scrollbar for tables if mobile screen */
			#daily_table {
					overflow-x: auto;
					display: block;
					font-size: 13px;
					margin: 5px;
			}
			#top_row{
				background-color: #16161d;
				color: #f2f2f2;
				margin-bottom: 20px;
			}
			#navpoint
			{border: 3px solid #563c5c; padding: 0px}
			.droprow_btns{border-radius: 0;}
			#region_dropdown{width: 85%; margin-left: 5%; margin-right: 5%;}
			#dropdown_row_col1{width: 40%;}
			#dropdown_row_col2{width: 50%;}
			#dropdown_row_col3{width: 10%; margin: 0%; padding: 0%;}
			#daily_heading{font-size: 20px;}
			#date_arrows{text-align: left; font-size: 10px;}
			#refresh_btn{font-size: 20px; padding: none; margin: none;}
			#scroll_arr{text-align: right;}
			#region_dropdown{font-size: 15px;}
			#date_select{font-size: 15px;}
			/*on mobile freeze 1st two rows*/
			#daily_table .sticky-col {position: -webkit-sticky;position: sticky;background-color: #FCF5E5;}
    } 
    @media only screen and (max-width: 720px) {
			/* horizontal scrollbar for tables if mobile screen */
			#daily_table {
					overflow-x: auto;
					display: block;
					font-size: 13px;
					margin: 5px;
			}
			#top_row{
				background-color: #16161d;
				color: #f2f2f2;
				margin-bottom: 20px;
			}
			#navpoint
			{border: 3px solid #563c5c; padding: 0px}
			.droprow_btns{border-radius: 0;}
			#region_dropdown{width: 85%; margin-left: 5%; margin-right: 5%;}
			#dropdown_row_col1{width: 40%;}
			#dropdown_row_col2{width: 50%;}
			#dropdown_row_col3{width: 10%; margin: 0%; padding: 0%;}
			#daily_heading{font-size: 20px;}
			#date_arrows{text-align: left; font-size: 10px;}
			#refresh_btn{font-size: 20px; padding: none; margin: none;}
			#scroll_arr{text-align: right;}
			#region_dropdown{font-size: 15px;}
			#date_select{font-size: 15px;}
			/*on mobile freeze 1st two rows*/
		}
	</style>

	<body>
		<div class = "heading_class" id="top_row">
			<span id ="navpoint" style="font-size:30px;cursor:pointer;left:5px; position: absolute;" onclick="openNav()"></span>
			Box Office Pan India
			<a href="https://twitter.com/Box_OfficeTrack?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @Box_OfficeTrack</a>
		</div>
		
		<div id = "nav_cont">
			<div id ="topnav"></div>
		</div>
		
		<div class = "heading_class" id="daily_heading"></div>

		
		<table id = "dropdown_row" style="width: 100%;">
			<colgroup>
				<col span="1" id="dropdown_row_col1">
				<col span="1" id="dropdown_row_col2">
				<!--<col span="1" id="dropdown_row_col3">-->
			</colgroup>
			<tr>
				<td ><label for="date">Select Date</label></td>
				<td ><label for="region_dropdown">Select Region</label></td>
			</tr>
			<tr>
				<td>
					<input class="dropdown droprow_btns" type="date" id="date_select" name="select_date" min="2023-01-01" onchange="getData()">
				</td>
				<td>
					<select class="dropdown droprow_btns" name="States" id="region_dropdown" value="1" onchange="getData()" >
						<option value="1">India</option>
						<option value="2">Telugu States (TS-AP)</option>
						<option value="3">TamilNadu</option>
						<option value="4">Karnataka</option>
						<option value="5">Kerala</option>
						<option value="6">North India</option>
					</select>
				</td>
			</tr>
			<tr>
				<td id ="date_arrows">
					<button class='dt_btns' id='prev_date' style="color:#007185;" onclick="prev_date_func()"> << Prev</button>
					<button class='dt_btns' id='next_date' style="color:#007185;" onclick="next_date_func()"> Next >> </button>
				</td>	
				<td>
					<!--<button id="refresh_btn"  type="button" onclick="getData()">&#x21bb;</button>
					<button class='dt_btns' id="scorll_arr" style="color:#007185; font-size: 12px;" > Scroll right >> </button>
					-->	
				</td>
			</tr>
		</table>
		
		<p id="scorll_arr" style="color:#007185; font-size:12px; text-align:right; margin-bottom: 0px;" > Scroll right >> </p>
		<div id="table_container" style=" width: 100%; overflow-x:auto;"> 
		</div>

		<div class="modal" id="myModal">
			<div class="modal-dialog">
				<div class="modal-content">
					<!-- Modal Header -->
					<div class="modal-header" style="border-bottom: 0 none; padding:10px">
						<!-- <h4 class="modal-title" id="'modal_heading"></h4> -->
						<text style="font-weight: bold; text-align: center;" id="modal_heading"></text>
						<button type="button" class="close" data-dismiss="modal">&times;</button>
					</div>
					<!-- Modal body -->
					<div class="modal-body" id ="modal_table" style="padding:1px">
							
					</div>
					<!-- Modal footer -->
					<div class="modal-footer" style="border-top: 0 none;">
						<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
		

		<!-- ads -->
		<p style="text-align: center; margin-top: 10px; padding-top: 10px; margin-bottom: 0px;">--Advertisement--</p>
		<div class="ad_div">
			<script type="text/javascript">
				atOptions = {
					'key' : '9002fc31278d2d205cf1b48fa8d9b11e',
					'format' : 'iframe',
					'height' : 50,
					'width' : 320,
					'params' : {}
				};
				document.write('<scr' + 'ipt type="text/javascript" src="http' + (location.protocol === 'https:' ? 's' : '') + '://www.effectivecreativeformat.com/9002fc31278d2d205cf1b48fa8d9b11e/invoke.js"></scr' + 'ipt>');
			</script>
		</div>

		<div style="padding: 2%; margin: 2%;">
			<p>Note:<br>
				1) Acronymns -> 'Tr.' : Tracked & 'Act.': Actual <br> 'Agg.': Aggregate<br>
				2) 'cr': All gross numbers in crores INR<br> 
				3) 'L': indicates footfalls in Lakhs <br>
				4) Date updates in realtime - 24x7 online tracking system<br>
				5) Change % is a compatabile metric at EOD only 
			</p>
			</p>
		</div>

		<!-- ads -->
		<p style="text-align: center; margin-top: 10px; padding-top: 10px; margin-bottom: 0px;">--Advertisement--</p>
		<div class="ad_div"> <div id="container-eb11d11fa1fb3730ecf9912917e6e437"></div> </div>

		<p>
			<span style="color: #cc0000;">Disclaimer:</span>
			<span style="color: #0b5394;">The box office figures are compiled from various sources.  
			We make every effort to verify the data but we do not take any ownership or authenticity about box office data.
			These numbers might vary from original producer or distributor numbers but they are an indication of how a movie was performed.
			Use at your own discretion
			</span>
		</p>

		<footer id="about"  > 
			<div id="about1">
					Copyright © 2022 Box Office Pan India
			</div>
			<div id="about1">
					&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
					<!--<button onclick = "window.open('https://mail.google.com/mail/?view=cm&fs=1&tf=1&to=boxofficetrackindia@gmail.com', '_blank');return false;"> Email
					</button>-->
					<a href="https://twitter.com/Box_OfficeTrack?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @Box_OfficeTrack</a>	
			</div>
			<div id="about2">
					<a href="/site data/about.html">About Us</a> &nbsp;|&nbsp; 
					<a href="/site data/disclaimer.html">Disclaimer</a> &nbsp;|&nbsp; 
					<a href="/site data/privacy-policy.html">Privacy Policy</a> &nbsp; |&nbsp;
					<a href = "https://mail.google.com/mail/?view=cm&fs=1&tf=1&to=boxofficetrackindia@gmail.com" target="_blank" rel="noreferrer noopener"> 
							Contact Us </a>
			</div>
		</footer>
		<br>

		<script>
			//date
			document.getElementById('date_select').valueAsDate = new Date();
			const handleChange = (event) => {
				inputDate = event.target.value;
			} 
			document.addEventListener("DOMContentLoaded", function() {
				getData();//console.log('loaded');
			});
			//daily heading
			function daily_heading()
			{
				reg_txt = document.getElementById('region_dropdown')
				reg_txt = reg_txt.options[reg_txt.selectedIndex].text
				reg_txt = reg_txt.split('(')[0]
				dt_txt = document.getElementById('date_select').value
				date_dt = new Date(dt_txt)
				dt_txt = date_dt.toLocaleString("en-GB", {day: "numeric", month: "short",year: "numeric",});
				daily_head = reg_txt + ' Daily Box Office - '  + dt_txt
				document.getElementById('daily_heading').innerHTML = daily_head
			}
			daily_heading()
			//prev dates & next buttons
			function prev_date_func(){
				dt_sel = document.getElementById('date_select').valueAsDate
				dt_sel.setDate(dt_sel.getDate() - 1)
				document.getElementById('date_select').valueAsDate = dt_sel
				daily_heading()
				getData()
			}
			function next_date_func(){
				dt_sel = document.getElementById('date_select').valueAsDate
				dt_sel.setDate(dt_sel.getDate() + 1)
				document.getElementById('date_select').valueAsDate = dt_sel
				daily_heading()
				getData()
			}
			//
			document.addEventListener("prev_date", function() {
				dt_sel = document.getElementById('date_select').valueAsDate
			});
		</script>

	
	</body>
	
	<style>
    .dropbtn {
    background-color: #3498DB;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;
    }
    .dropbtn:hover, .dropbtn:focus {
    background-color: #2980B9;
    }
    .dropdown {
    position: relative;
    display: inline-block;
    }
    .dropdown-content {
    display: none;
    position: absolute;
    background-color: #f1f1f1;
    /*min-width: 160px;
    overflow: auto;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);*/
    z-index: 1;
    }
    .dropdown-content a {
    color: black;
    /*padding: 12px 16px;*/
    text-decoration: none;
    display: block;
    }
    .dropdown a:hover {background-color: #ddd;}
    .show {display: block;}
  </style>

	<script>
		//options map
		option_endpoint = {
			"1": "india",
			"2": "tsap",
			"3": "tamilnadu",
			"4": "karnataka",
			"5": "kerala",
			"6": "roi",
		}
		base_url = 'http://127.0.0.1:8001'
		base_url = 'https://daily_boxoffice-1-c5568081.deta.app'

		headers = {
			'accept': 'application/json, text/javascript, */*; q=0.01',
			'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7',
			'X-API-Key': 'd03x1tmc_W5c3GdBzPdH2MToY3rJ2BjFd4haMfjGK',
			'Content-Type': 'application/json',
			'Authority':  'database.deta.sh',
			'Accept-Language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7',
			'Sec-Fetch-Mode': 'no-cors',
			'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36',
		}
		
		//function - to get main table data 
		async function getData()
		{
			//init funcs
			daily_heading()
			//params
			date_str = document.getElementById('date_select').value //'2023-06-16'
			region_val= document.getElementById('region_dropdown').value;
			console.log('date_str' , date_str , 'select state' , region_val)
			cache_meth = "reload";
			
			end_point = option_endpoint[region_val]
			url = base_url + '/' + end_point
			query_url = url + '?selected_date=' + date_str
			console.log(query_url)

			document.getElementById("table_container").innerHTML = ''
			// query = [{"Show Date":"29 March 2023"}] //json_payload = {"query" : query}
			try 
			{
				var response = await fetch(query_url, {
					method: 'GET',
					//headers: headers,
					//body: JSON.stringify(json_payload) ,
					cache:cache_meth ,
				})
			}
			catch(err)
			{
				cont_div = document.getElementById("table_container");
				cont_div.innerHTML = '<p style="text-align:center;font-weight:bold;font-size:20px;">no-data</p>';
				return;
			}
			//.then( response => response.json() )
			//.then( response => {console.log(response)} );
			if (response.status!=200) {
				cont_div = document.getElementById("table_container");
				cont_div.innerHTML = '<p style="text-align:center;font-weight:bold;font-size:20px;">no-data</p>';
				return;
			}

			//data
			var data = await response.json();
			//console.log(data)
			init_table_html = '<table id= "daily_table">'
			text_sort_ids = [1]
			non_sort_ids = [-1]
			gr_cols = []
			ff_cols = []
			change_cols = []
			header_list = ['Rank' , 'Movie' , 'Release', 'Day',]
			data_columns =[ 'Rank' , 'Movie',  'Release date', 'Day count', ]
			if (end_point=='india')
			{
				header_list = header_list.concat(['Tracked Gross', 'Tr. Shows', 'Change','Tr. Footfalls',
				 'Actual Gross', 'Aggregate Tracked Gross', 'Agg. Actual Gross', 
				 'Agg. Footfalls', 'Showdown'])
				data_columns = data_columns.concat(['Tracked India Gross' , 'Tracked Shows' , 'Change' , 
					'Tracked Footfalls', 'Actual India gross', 'Aggregate Tracked India Gross',
					 'Aggreagte Actual India Gross', 'Aggreagte Actual Footfalls',
				])
				gr_cols = [4,8,9,10] //gross in cr/crore
				ff_cols = [7,11] //footfall in Lakh/L
				change_cols = [6] //percentages
				modal_header_list = "Day No.,Tracked India gross <br>(in crore),Change" 
				modal_data_columns = "Day count,Tracked India Gross,Change"
			}
			else if (end_point=='tsap')
			{
				header_list = header_list.concat(['TS-AP Tracked gross', 'Tracked Footfalls', 'Telugu Lang Gross', 'Showdown'])	//'Tracked Shows' , 'Change','Showdown'
				//'Actual India Gross', 'Aggregate Tracked gross', 'Aggregate Actual gross',
				data_columns = data_columns.concat(['Telugu States Gross', 'Telugu States FF_tr',  'Telugu Gross',])
				gr_cols = [4,6] //gross in cr/crore
				//table_html = create_table(data, header_list, data_columns, text_sort_ids, init_table_html , gr_cols) 
				modal_header_list = "Day No.,TS-AP Tracked gross <br>(in crore)" 
				modal_data_columns = "Day count,Telugu States Gross"
			}
			else if (end_point=='tamilnadu')
			{
				header_list = header_list.concat(['TN Tracked gross', 'Tracked Footfalls', 'Tamil Lang Gross', 'Showdown'])	//'Tracked Shows' , 'Change','Showdown'	
				data_columns = data_columns.concat(['TamilNadu Gross', 'TamilNadu FF_tr', 'Tamil Gross',])
				gr_cols = [4,6] //gross in cr/crore
				modal_header_list = "Day No.,TamilNadu Tracked gross <br>(in crore)" 
				modal_data_columns = "Day count,TamilNadu Gross"
			}
			else if (end_point=='karnataka')
			{
				header_list = header_list.concat(['KA Tracked gross', 'Tracked Footfalls', 'Kannada Gross', 'Showdown'])	//'Tracked Shows' , 'Change','Showdown'	
				data_columns = data_columns.concat(['Karnataka Gross', 'Karnataka FF_tr', 'Kannada Gross'])
				gr_cols = [4,6] //gross in cr/crore
				modal_header_list = "Day No.,Karnataka Tracked gross <br>(in crore)" 
				modal_data_columns = "Day count,Karnataka Gross"
			}
			else if (end_point=='kerala')
			{
				header_list = header_list.concat(['KL Tracked gross', 'Tracked Footfalls', 'Malayalam Gross', 'Showdown'])	//'Tracked Shows' , 'Change','Showdown'	
				data_columns = data_columns.concat(['Kerala Gross', 'Kerala FF_tr', 'Malayalam Gross', ])
				gr_cols = [4,6] //gross in cr/crore
				modal_header_list = "Day No.,Kerala Tracked gross <br>(in crore)" 
				modal_data_columns = "Day count,Kerala Gross"
			}
			else if (end_point=='roi')
			{
				header_list = header_list.concat(['ROI Tracked gross', 'Tracked Footfalls', 'Hindi Gross', 'Showdown'])	//'Tracked Shows' , 'Change','Showdown'	
				data_columns = data_columns.concat(['ROI Gross', 'ROI FF_tr', 'Hindi Gross', ])
				gr_cols = [4,6] //gross in cr/crore
				modal_header_list = "Day No.,Hindi Language Tracked gross <br>(in crore)"  //North India
				modal_data_columns = "Day count,Hindi Gross"
			}
			else
			{
				table_html ='<p style="text-align:center;font-weight:bold;font-size:20px;">no-data</p>'
			}
			table_html = create_table_withview(data, header_list, data_columns, text_sort_ids, init_table_html, 
				modal_header_list, modal_data_columns, gr_cols, ff_cols, change_cols) 
			
		
			cont_div = document.getElementById("table_container");
			cont_div.innerHTML = table_html //+ ad_html + total_html + end_html;
			return

		}
		
		//function - create table with view button
		function create_table_withview(data, header_list, data_columns, text_sort_ids, init_table_html,
			modal_header_list, modal_data_columns, gr_cols=[], ff_cols=[], change_cols=[]) //div_id,
		{
			table_html = init_table_html 
			len = data.length;
			header_html = '<tr>'
			for (var i=0;i<header_list.length;i++)
			{
				if (i==0) 
				{
					header_html += '<th' + ' class="sticky-col first-col" style="background-color: #009879;" onclick="sortTable(' + i + ')" ' + '>'
				}
				else if (i==1) 
				{
					header_html += '<th' + ' class="sticky-col second-col" style="background-color: #009879;" onclick="sortTable(' + i + ')" ' + '>'
				}
				else{
					header_html += '<th' + ' onclick="sortTable(' + i + ')" ' + '>'
				}
				header_html += header_list[i] + '&nbsp; <i class="fa" style="font-size:12px; color:#16161d;" >&#xf0dc;</i>'
				//if (non_sort_ids.includes(i)){continue}
				//else {header_html += ' <i style="font-size:12px" class="fa">&#xf0dc;</i>'}
				//&#x25B4; up &#x25BC;down  &#9650; up &#9660'; down #'&#xf0dc' up-down
				header_html += '</th>'
			}
			header_html += '</tr>'
			table_html += header_html

			for(var i=0;i<len;i++){
				j_data = data[i]
				//console.log(j_data)
				//console.log(Object.keys(j_data))
				row_html = '<tr>'
				movie_name = j_data.Movie;
				td_html = ''
				for (j=0; j<data_columns.length; j++)
				{
					column_name = data_columns[j]
					dt_r = j_data[column_name]
					if (dt_r == undefined){dt_r='-'}
					else if (gr_cols.includes(j)){dt_r = dt_r + 'cr'}
					else if (ff_cols.includes(j)){dt_r = dt_r + ' L'}
					else if (change_cols.includes(j))
					{
						dt_r = Number(dt_r)
						if (dt_r>0){dt_r = '<text style="color:green;font-weight:bold;">' + dt_r + '%' + '</text>'}
						else if(dt_r<0){dt_r = '<text style="color:red;font-weight:bold;">' + dt_r + '%' + '</text>'}
						else {dt_r = "<text>" + dt_r + '%' + '</text>'}
					}
					if (j==0) 
					{
						td_html += '<td  class="sticky-col first-col" >' + dt_r + '</td>'
					}
					else if (j==1) 
					{
						td_html += '<td  class="sticky-col second-col" >' + dt_r + '</td>'
					}
					else{
						td_html += '<td>' + dt_r + '</td>'
					}
					//break
				}
				//add button to display modal breakdown table
				//style="background-color:green"
				//header_list = ['Day No.', 'Tracked gross <br>(in crore)']
				//data_columns =[ 'Day count' , 'Tracked India Gross']
				param_str = "'" + movie_name + "', '" + modal_header_list  + "', '" + modal_data_columns + "'"
				func_str = "movie_data(" + param_str + ")"
				btn_html = `<button type="button" id="data-modal-btn" class="btn btn-info btn-sm" 
				data-toggle="modal" data-target="#myModal" onclick="` + func_str + `" >View Data</button>`
				td_html += '<td>' + btn_html + '</td>'

				row_html += td_html
				row_html += '</tr>'
				table_html += row_html
			}
			table_html += '</table>'
			return table_html
		}

		//function - sort columns in table
		function sortTable(n) //text_sort_ids, gr_cols, ff_cols, change_cols)
		{
			text_sort_ids = [1]
			gr_cols = [4,6,8,9,10]
			ff_cols = [7,11]
			change_cols = [6]
			var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
			table = document.getElementById("daily_table");
			switching = true;
			//Set the sorting direction to ascending:
			dir = "asc"; 
			 
			/*Make a loop that will continue until
			no switching has been done:*/
			while (switching) {
				//start by saying: no switching is done:
				switching = false;
				rows = table.rows;
				/*Loop through all table rows (except the
				first, which contains table headers):*/
				for (i = 1; i < (rows.length - 1); i++) {
					//start by saying there should be no switching:
					shouldSwitch = false;
					/*Get the two elements you want to compare,
					one from current row and one from the next:*/
					x = rows[i].getElementsByTagName("TD")[n];
					y = rows[i + 1].getElementsByTagName("TD")[n];
					/*check if the two rows should switch place,
					based on the direction, asc or desc:*/
					if (dir == "asc") {
						//if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) 
						//if (Number(x.innerHTML) > Number(y.innerHTML) )
						
						if (text_sort_ids.includes(n))
						{cond = x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()} //text based sort
						
						else
						{
							xh = x.innerHTML
							yh = y.innerHTML
							if(gr_cols.includes(n))
							{
								xh = xh.replace('cr','')
								yh = yh.replace('cr','')
							}
							else if(ff_cols.includes(n))
							{
								xh = xh.replace(' L','')
								yh = yh.replace(' L','')
							}
							if(change_cols.includes(n))
							{
								regex = /\>(.*?)\</
								xh1 = regex.exec(xh)[1];
								yh1 = regex.exec(yh)[1];
								xh = xh1.replace('%','')
								yh = yh1.replace('%','')
							}
								cond = Number(xh) > Number(yh)
							} //number based sort
						if(cond)
						{
							shouldSwitch= true;//if so, mark as a switch and break the loop:
							break;
						}
					} 
					else if (dir == "desc") {
						//if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) 
						//if (Number(x.innerHTML) < Number(y.innerHTML) )

				
						if (text_sort_ids.includes(n))
						{cond = x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()} //text based sort
						else
						{
							xh = x.innerHTML
							yh = y.innerHTML
							if(gr_cols.includes(n))
							{
								xh = xh.replace('cr','')
								yh = yh.replace('cr','')
							}
							else if(ff_cols.includes(n))
							{
								xh = xh.replace(' L','')
								yh = yh.replace(' L','')
							}
							if(change_cols.includes(n))
							{
								regex = /\>(.*?)\</
								xh1 = regex.exec(xh)[1];
								yh1 = regex.exec(yh)[1];
								xh = xh1.replace('%','')
								yh = yh1.replace('%','')
							}
							cond = Number(xh) < Number(yh)
						} //number based sort
						if(cond)
						{
							shouldSwitch= true;//if so, mark as a switch and break the loop:
							break;
						}
					}
				}
				if (shouldSwitch) {
					/*If a switch has been marked, make the switch
					and mark that a switch has been done:*/
					rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
					switching = true;
					//Each time a switch is done, increase this count by 1:
					switchcount ++;      
				} else {
					/*If no switching has been done AND the direction is "asc",
					set the direction to "desc" and run the while loop again.*/
					if (switchcount == 0 && dir == "asc") {
						dir = "desc";
						switching = true;
						
					}
				}
			}

			/*hd = document.getElementsByClassName("th_arrow")[n].innerHTML;
			if (hd=='&#xf107'){document.getElementsByClassName("th_arrow")[n].innerHTML='&#xf106'} //switch direction arrow
			else if(hd=='&#xf106'){document.getElementsByClassName("th_arrow")[n].innerHTML='&#xf107'} */
			//else{hd='&#9650'} //'▴' '▾'
		}
		
		//function - each movie data for -> view button modal
		async function movie_data(movie_name, header_list=[], data_columns=[], lang_cond=false, )
		{
			//convert string to list
			header_list = header_list.split(',')
			data_columns = data_columns.split(',')
			console.log(header_list, data_columns)

			console.log('Movie', movie_name);
			document.getElementById("modal_heading").innerHTML = movie_name + " - Daywise collection"
			document.getElementById("modal_table").innerHTML = ''

			/*if (lang_cond==true)
			{
				end_point = option_endpoint[region_val]
				url = base_url + '/' + 'lang'
				query_url = url + '?movie_name=' + movie_name
				console.log(query_url)

				try 
				{
					var response = await fetch(query_url, {
						method: 'GET',
					})
				}
				catch(err){}
			}*/

  		query_url="https://database.deta.sh/v1/d03x1tmc/test-totals/query";
      query =[{'Movie': movie_name}]
      json_payload = {"query" : query}
      var response = await fetch(query_url, {
        method: 'POST',
        headers: headers,
        body: JSON.stringify(json_payload) ,
        cache:"reload" ,
      });
			if (response.status!=200) {
				document.getElementById("modal_table").innerHTML = '<p style="text-align:center;font-weight:bold;font-size:20px;">no-data</p>'
				return;
			}
			
			//data
			var data = await response.json();
      data = data.items
			//console.log('data',data)
			len = data.length;
			
			//header_list = ['Day No.', 'Tracked gross <br>(in crore)'] // , 'Actual India Gross',
			//data_columns =[ 'Day count' , 'Tracked India Gross'] //'Actual India gross',  
			init_table_html = '<table class="table table-striped" id= "modal_table" style="margin:1px; width:100%;">'

			table_html = create_table(data, header_list, data_columns, text_sort_ids, init_table_html)
			modal_div = document.getElementById("modal_table");
			modal_div.innerHTML = table_html
			return
		}

		//function - create table from data (no sort or others)
		function create_table(data, header_list, data_columns, text_sort_ids, init_table_html, gr_cols=[], ff_cols=[]) //div_id,
		{
			table_html = init_table_html
			len = data.length;
			header_html = '<tr>'
			for (var i=0;i<header_list.length;i++)
			{
				header_html += '<th>' // header_html += '<th' + ' onclick="sortTable(' + i + ')" ' + '>'
				header_html += header_list[i] //+ '&nbsp; <i class="fa" style="font-size:12px; color:#16161d;" >&#xf0dc;</i>'
				header_html += '</th>'
			}
			header_html += '</tr>'
			table_html += header_html

			for(var i=0;i<len;i++){
				j_data = data[i]
				//console.log(j_data)
				//console.log(Object.keys(j_data))
				row_html = '<tr>'
				movie_name = j_data.Movie;
				td_html = ''
				for (j=0; j<data_columns.length; j++)
				{
					column_name = data_columns[j]
					dt_r = j_data[column_name]
					if (dt_r == undefined){dt_r='-'}
					else if (gr_cols.includes(j)){dt_r = dt_r + 'cr'}
					else if (ff_cols.includes(j)){dt_r = dt_r + ' L'}
					td_html += '<td>' + dt_r + '</td>'
					//break
				}
				row_html += td_html
				row_html += '</tr>'
				table_html += row_html
			}
			table_html += '</table>'
			return table_html
		}

		/// When the user clicks on the button, toggle between hiding and showing the dropdown content
		function myFunction() {
			document.getElementById("myDropdown").classList.toggle("show");
		}
			
		// Close the dropdown if the user clicks outside of it
		window.onclick = function(event) {
			if (!event.target.matches('.dropbtn')) {
				var dropdowns = document.getElementsByClassName("dropdown-content");
				var i;
				for (i = 0; i < dropdowns.length; i++) {
					var openDropdown = dropdowns[i];
					if (openDropdown.classList.contains('show')) {
						openDropdown.classList.remove('show');
					}
				}
			}
		}
		
		/* header_list = header_list.concat(['Tracked gross', 'Tracked Shows', 'Change','Tracked Footfalls <br>(in Lakh)',
				 'Actual India Gross', 'Aggregate Tracked gross', 'Aggregate Actual gross<br>(in crore)', 
				 'Aggreagte Footfalls <br>(in Lakh)', 'Showdown'])
		*/
	</script>
	
	<script>
    nav_elems = `<a href="/">Home</a>
            <a href="/livesales">Live Advance Sales</a>
            <a href="/livetracking">Live Collection Tracking</a>
            <a href="/collections">Collection Reports</a>
            <a href="/collections">Boxoffice Records</a>   
            <a href="/advancesales">Advance Sales Reports</a>
            <a href="/OSadvancesales">Overseas Advance Sales</a>
            <a href="/blogs-articles/index.html">News</a>
            <a href="/gallery/index.html">Gallery</a>
            <a href="/site data/about.html">About Us</a>
    `
    function openNav() {
        document.getElementById("topnav").style.width = "250px";
    }
    function closeNav() {
        document.getElementById("topnav").style.width = "0";
    }
    if (window.matchMedia("(max-width: 700px)").matches) {
        console.log(window.matchMedia("(max-width: 700px)").matches)
        // Viewport is less or equal to 700 pixels wide
        div_elem = document.getElementById("topnav");
        div_elem.innerHTML = `
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>` + nav_elems
        span_elem = document.getElementById("navpoint")
        span_elem.innerHTML =  `&#9776;` 
    } 
    else
    {
        console.log(window.matchMedia("(max-width: 700px)").matches)
        div_elem = document.getElementById("topnav");
        div_elem.innerHTML = nav_elems;
        // Viewport is greater than 700 pixels wide
        span_elem = document.getElementById("navpoint")
        span_elem.innerHTML = '';
    }
	</script>
</html> 
<!--
		<label for="date">Select Date</label>
		<button class='dt_btns' id='prev_date' style="color:#007185" onclick="prev_date_func()"> << Prev</button>
		<input class="dropdown" type="date" id="date_select" name="select_date" min="2023-01-01" onchange="getData()">
		<button class='dt_btns' id='next_date' style="color:#007185" onclick="next_date_func()"> Next >> </button>
		
		<label for="region_dropdown">Select Region</label>
		<select class="dropdown" style="display: inline-block;" name="States" id="region_dropdown" value="1" onchange="getData()" >
			<option value="1">India</option>
			<option value="2">Telugu States (TS-AP)</option>
			<option value="3">TamilNadu</option>
			<option value="4">Karnataka</option>
			<option value="5">Kerala</option>
			<option value="6">North India</option>
		</select>

		<button style="display: inline-block;" type="button" onclick="getData()">Refresh Data</button>
		-->